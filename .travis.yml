language: node_js
sudo: required
node_js:
  - '4.3'
  - '6.7'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
  global:
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - MAJOR_VERSIONS=master
    - secure: 
        IzfJEvFKDzR5lbRSo6lxFSv5q/99WTYlQTC4bMWYZRFNK1rkfsdd/qhSAUCUT+hkyapf1bp1aER9Z79Yi8ivtQpQRmSuiZ+yb+15YP1jCYuVjPFnthVOOrgsxJyjspYxgE5FzATra7KwlrkGL57kIeEqj1aR03qKT4vGd4IVygUa+9FEjEEhztgeJXaMX4/GOjui1yYhXm464/LaQNcUpiNE3h3KDPIvFX6Wvfvwmccu3JILXWAR46/t69tWhs36b5p/MpdoDlXceF6ZCbRWX35P8eqXUPoi84zimjgoCnpvVwaAEUiu+3N+EqwrSGVbQWjFxHBqz2i2BNCT6xfPmU7ijie5bpdAjOdtz/9TKmjZk+nup/rd7wgvIAAuUYnFRUYGmuAjJf/D/kCb4SKmF86JzSaSmWqy+E8EoZSd2tpl041l0cStOhws8LEKRHZPzXHJhnqWrfNw94qbwnk83hPim382TmG37bED9v+HUFDA7IaAREKgmXNwJyU5sEdCFPhlNmgX1TrAi2dw0IeGNtez2IeQ+R+AYg2D/cZW44lIjFGSKyufNnByd4Tzu6ONgFof68hspGlJpMhe8Hw4qP7b6rvy2iI9atB7mSVPTf/kUSmWfRP/y30Rak0x2TAy+fu7tpfyxAZPgG4D8N0VvL69cDQ4kM9+oDaqQcqsjJg=
    - secure: 
        1Lw+sV5DZSJWsG8GR2Fm5FDBWMLd09ILpkT+1m7xF2M2zsmvszj4Zdw+RWa8+FskIJFL7SWgMR7KNqqGyTCr1Nlk8GTPBsci8fgAnoBgMuLwyDqFgX1YjCzCA1Zmr2/7kXa54VjgyGXfwr3/in+3y6UNsAr2FKOtTGidSGiD9wUaCPX6CNvqJbXAEaQE4/k7vx204NXbgcjE3qdOzaEWCp0HuEUTscwCoYr5Y6eWqf7N4kq3XWJv49uz2QuCpTnsOAIcDKfv1HXMasU59iApIHqGMPEss82mjNhVj7MZA3kp/hgV6ZeWa6GT0vaCo3v7ggBEyhNR28LrESyUp4SdWfVA2KdiOVYzmWkjT1v9uU04SVzLxSc817cUNJe6CWF/4K8siZ4BQN/CZiNsB5nwTismcgPAKkyXSY40FYAoILG6gMPd1/lARW18fqMEzukxq2QGXYZpJy3KvZGndObWn+5S3s6qMwqczR94GwlbCkvBQcTUuFxCFqUAjlbkuO/AifoTygTQ0+C7bHmXrVRsRRDnT9ygAZA8WQc3AnGZtynpfB9osIIu240KbIXh+2UZZaiDnxzJuC7NOVggg9fSo37OY7d/Cb/berwHTug76bvfksrV2BZN1MxrWvf7/Yb/ihAzBApTfaq2qErKxceWoExqSuj3pCWgZi3WEB83ujI=
    - secure: 
        PXZWQsNOvTsHCIwyg70In/hXyZJOLE282lkPv61ZX8ukeuZZNyBUp/XLBQRhwy89pqs3EqAnzm0DoVXzIzTmKkjYEeqo74rho6Jd3On3Os4NS3q53lRpotjGE3Ds+gfqzFTwyo9YCg4QV4x9pSKcscoZ6ppcepw6U/TRsrXuYQH4sH02Z3GPQy7XJFrbwYzxTtu6QUyN+QfHyOKTAdXJlWKyYznPVcPyxNUUbs9ByhQd0kcDDGijjR0nZY0bZaAVO0/SA2An1FeztVVNzOgS0o1c7haWIjY3gPNs8q0/l/Z56zs0NhMspeFiSz6ZwbAy+wIAaafsboPVHflwZXlANR0oIqeXG6VNdKuyrWT1XF/LEW/EZzQ38ThWsco82S26vkJoFG7rDsQhCD8Prx9ZmuJsuQ7T+7AKdQLuV41AQyWJSQH31vZELMHoP9gKLpaa9jOenwbCjN01nH4QK1w4pPPFHHyoaLN54dY8oJAOKVE7OMsvKbvbDalSeLrpyzIfZaXv+eDqFMQIUpkgQ2VDN7V+p2suVw58TQKC+hXztrASygopjUAB5fycHRTP3nKptpGe51W5QLI8lKRJU9ctkG36ICWUY9Um8nVKqK/E9HsFic6BOsaUhYrUhz/bPs8Lv1vorFQ29mzqvWMbjX80f0sT/c8mo5ybBbGJax4lyuo=
    - secure: 
        y1/QVGjZd8qf4qMA4YNDQAYpca/S6s9TYdZlLTrCgeEDqi2XPZdjamr6F/uMo364tVjPNP9AhDFqSXvhgPzU4KEOusg0Rm+FBKOoP+oEEIWpleG4dNUVbOiJl9YOmIgnnj0xyqhD95FzpE9TwyfqG/bWlhacT4kG8o7Dmaulp9jk0fG1kJpEgRlpwVWqruV+r497GhxGxlDriLPgUnB6MhqCn8GhszlmuaNdpDGOXqIBq9pMO98lMZFYdYLNNDVzwI2EuJWUd5kWaqJmRMbMgD/6ypBqW1XsOSA22BT7/269Wt+sCakb5wbP0mdYkMTR4UPARHQIypmy5gWLyOlmzOw1BRXFpl3a6LSTz6xCAhQ7KS3pihqqv1pp7oyD5p3t8OrT5ksYPDP9w1AXeP76kUTkKfk4m7zzXowgcDPp8HHrVtC2q22qSHfqxZHhCH9py6oNpKDXObKHlShxaMv1uffJTEKGWveWi1THeb9Fw1ok6ZlPQsln0HR7c5+aXHMyYSd9wshU5AqDMuSXAeMNXQOtH3nDkE8vTgwJC2XNy05ICawZQ68hxcld+RV++7rkQgeRRsCxkNBvT/Vp0rB6Ib4rTwHfeL7NF3EO91eKXO5NtQOHUozZ8OTt5GuRZ9ffAl4OTOKf79i8fGMEXf6bB7C/LYCcq+5loNqnHYXbCrU=
    - secure: 
        4qbCnDRK6koLu6FV6Vb7knauvIPi47IMpf9bFUaJVyLvGqHQuwnK/0n0dz6rQdYNw9CZLNG4bIf3amOFLIbQwC0pCN1mlEO7wFAtLgdzFSDNR2e6y5hIgvSCZdxY2+8REm5dEG4SU1OiAYjSQ8fARBnoQ7OLXJrojXNiljZ0zyIcgfR1fj3H/y+aDdoB/jJ3bRkkNmGBy1Zon0JvNKL+4DFSAniwnJ/0KEcwMbnxMqZL0n63FMCeChS0QEPxvQauipJVfJfrxLowdOwX6L3opVQ8DiHptKAxoi8xMTgsFXXq9qutfvOG2Z1v9ZT+xcIVstA9Qh/gHOBFfLB4U0rV4jEYQtf+XH2aR9LaJX4unHRTQ5UcdBMlZN81BrDSOsnP+txkLxWwv1r4XBC/soNjzQrsbCkJkTSRRUyKVfmCPpG4a32plrQFjpwx0S4Ut5SqmPrzRm2ZFeCQEE79FpUCZ1g1dBwSamB7ZvQdxiByNAHR9eIJ5LyTCE1a6Rqc9KndhCZv56boYHoOYQFM7wdDUiRNT+EA2fXt3AI58w0XePYUvgbLVdXP5n2rGz6y5QFSGq5uy0/Pqpj18CQ+WGM7DdSBC1d97da2mOEBlUECvt2ksc0g0Gnt34kU3p0+gnmi7APlP7+hv1P02h8QctGuwMzXf6rWrPdDdD3ZLJ/dHJs=
    - secure: 
        x3ti6r6naaXj9+fOGYoctYiIK10noKhEOmuy+jlDRmvLWQlU4AP+vBV1xhOWniECr/L9rAerNGg0We3hhEzdiPEJt1Re49/n3Y+ohApIOLaKuYPe4SJNsXQCyKNj9hxl31WppkpApOhaxDR7PR2ZybroPHDVB1ne0HT+mZA5iseHao2cProEGPZIfRKLLL9AcWImhWL5H94X1OiYdcXGqJBuDEC7POqrmoMPlPfDioEXSLLEbgP2R4/5LKvgDtSANOf9yBvdSjUKS2am0DKBu5GwfIGdF5CHJnyCp2arqL1Z7rH7AoV7IXgi9iSo37pNtjUlkLcdKGugEzQZfSbSkwqQwwDszMEU21KvGnLJ5yGIJWEvHKcimBP5TdGjbD9ssCAZ1qyPalsh/QKNHjJZTrzy8VIOzOcS/wGEJRgFz3Wcg9LOLIDDXxfHbB67xCslqs/Zas2udp3LEpkP3sGCMhqSf2nScjY3UUsYSsZfX42cqJ26SZkQnrs/oszMak/RmY1jeoLjivMNxGe44s8MX9++XGP0+1PWxh1i0TAWtkJOP7QQItfJHJ5lyWJbXcajBFO8x3822cB5XTdigJIWzb+J0ITFhYf348k6+pDVbhCPWiFfC8djHbEW7CbnQkL0V3KBoqSKN4cY/XCX2hCVnMgzAqOV3Ms7YYGd87HSqHw=
    - secure: 
        cYepJTAu1m1k8o5XxmBHlY8OHsdHoImsdJeJpcAVOOB7hdCjHnV4HRqoGWpWcKbSMWjZaUBxKRM2OChyQymoSeRvJqo65OfsYgwEOjiC3KdlqIhcVCArvl+HJvDEhDxp403swnQE95Uhsrgs4oeSNaRxXOlYA45r3K4kTgBIUh2mSaVLM2e4Fpupk1vKG6Nt+h1qrK86q6amPMHY2VF1IVnnwT3CCHw4dD4RY/aL/K4wv2BNmo3Hu+jj7jcQsap46PLavzmQlFIDOG3ehCwCfEuGBaCIN9OoFoDJ9uIIAQcF1YcTJabt7ZIxK/wlrv0AhX5lHDe7Zt2ej/HJ4dI8EPHbb0cL6wZOmC851M9mxcrS8FtsfNe4EcwyLCdj6Pqo0gD4RX5/fRNPGFJvW6zJCixn4NYBZyQSq/RJhMEp4Q0b1HzgVSUSv6oJ0e0phPUS4E0fp6yapV/cRqVj0iW3ou8pPS2Do7KSEBJtpfq6VewURD4YxT/y9N9vkR//kr2sCA7tZf6Se61qIbR/H5I3VST0b0HCyF6ruc83rPZETSE5wsAZ2L2Ccvu0G7Wqbn11DgkoO4azrUWlRsyF+w0muj6QLIeH6BqPpzKVUl1CxTsnTq7c9mwze5B98bb4FNF/OrfIAjgL/RbgMnH3iFfpspdjKPGg58ckvXNr+lktkfo=
    - secure: 
        hnqSLg0qGXRllSSxLz+AaDL87RvCH4pGkROX0RJjIluqpsvAbKoV/nbbVxQq2/mEqx6ybTtNvu2No0YRRtQWctmOkbKTDexqjgRQDuuzFmFeBcICeC733M+QgpqGhXHSObXsev1EJ67TcdvIjqdNnsePJuP7yR942n+m/YFFouV2o6ujr5CkxJoE7CtG36GxuzuJ6tcBa7zY7pxbtJYXuYF4f/Y9WOCNJrwHwhwfVTQYQo70Fs8YyNyhcDVHULLe0feRnBdFnyWsYVc471wgD+dNZflDc3VsBcB3EDXpoTZh5uo5L3Z+DPvj+PBzQLZ0rH+Ga03N3MSzHULOC+VDEvxanb20PBn8TgHks5hJHnU7C2ie9hQvDTrrB24yMBSm2UCJnDw3/JnyP/r3EZJOIaLD3Iue0HQZzOnbdvWNB9fz7ymFqi0DBatwjAYvgs3kmlGPb2FLpyeshWKgSmVCsS+KCfFRy6B2FXeGff7t5UuvTatnGqFHRx1SsjcvHMyrmuaMQ107FSrG74asC9Wiy4S3XYmOdm3aBOhQ4QnB40rXTMenAU/iqsY+uTu21HbpNZUA7ch3zRwtGHpnSj47jQDXFdDwOYL6DGe5ac/fs98vvvd62gCqGtRcu+UowWZH2LIZ2PkYgdrnxSYkeT62kdgg3EEezUnKMi1TuCUVr5o=
notifications:
  email:
    - devs-deep@mitocgroup.com
  slack:
    secure: 
      N68DKTWA99zseRsJVB2aKNVxnXdQTD8sizWyKJqb1yFKXBRIqCz1zoOdPXLo/K2vanFc7DJ5LZqQjoEGf/vM/L7qV5Mws62jzFkTIMVnL7OyCt8yFlnKNf81zAD7cPowcLLZT/u6jpCXTODT2akHt0Q1YHIIdvTHQNAUMQ9JSpiLJQqt6kvfFsuq8W1fgOWuJQLRMw6PQMiCIby7FtuYNiXR3e4wmzrob4JJLZtBAd/EPlHGjPlpFBdiAfmVBR1tp6ibnUNgv0HMm7dxu9128spOLcgtBiqDRaUVFoF0InGoux1rRaIF/FuMtcupQjgHGQTz3FW6XbLygh6GH2Qc/+4tQS7ZTP42aeXGwt8UqQqIabMpaz1nAojxz4av8sw/CKZMwGwc9LbuDsBbnxLF6N2GtDHODy11rIuq5BxFYuaCncb+TCZaAUtsY94Ijp4zoRczpQbdLwJGbJm4v0G5qRXHDcvvTHufeQCdA69WZc156aOPY6J7Kliqxu6gXwtqZ/HHmRqxwJy7EtKNW5mImQP920ZfiFwWhuLbInWKzlo6TiuTlsWQJemvCfc+27ElOST98c9MnjRJ20v9fXn3kBit1bQxa/yPGe09S1bk8mhaJw3xwPP2vDx0zG+U9gGBAsi/tns3VxUqFEIUkWD6T9PVT6w6w7Zwh/+ZeeBI/5w=
